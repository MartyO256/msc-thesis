\noindent $ \boxed{\Xi_o; \Xi_i; \Xi_p \vdash \ucorner{M_p} \rightsquigarrow_{M_p} M_P' \dashv \Xi_o'; \Xi_i'; \Xi_p'} $ \quad The parser object $ \ucorner{M_p} $ is disambiguated to the contextual \LF term pattern $ M_p' $ under the outer, inner and pattern disambiguation contexts $ \Xi_o, \Xi_i, \Xi_p $ respectively, which produces the output outer, inner and pattern disambiguation states $ \Xi_o', \Xi_i', \Xi_p' $ respectively.

\begin{equation}
\infer{\Xi_o; \Xi_i; \Xi_p \vdash \ucorner{x} \rightsquigarrow_{M_p} x \dashv \Xi_o; \Xi_i; \Xi_p, x : \mathsf{LF}_{\mathsf{term}}}{x \notin \operatorname{domain}(\Xi_i, \Xi_p)}
\end{equation}

\begin{equation}
\infer{\Xi_o; \Xi_i; \Xi_p \vdash \ucorner{x} \rightsquigarrow_{M_p} x \dashv \Xi_o; \Xi_i; \Xi_p}{(x : \mathsf{LF}_{\mathsf{term}}) \in \Xi_o, \Xi_i}
\end{equation}

\begin{equation}
\infer{\Xi_o; \Xi_i; \Xi_p \vdash \ucorner{\#x} \rightsquigarrow_{M_p} \#x \dashv \Xi_o; \Xi_i; \Xi_p, \#x : \mathsf{LF}_{\mathsf{term}}}{\#x \notin \operatorname{domain}(\Xi_i, \Xi_p)}
\end{equation}

\begin{equation}
\infer{\Xi_o; \Xi_i; \Xi_p \vdash \ucorner{\#x} \rightsquigarrow_{M_p} \#x \dashv \Xi_o; \Xi_i; \Xi_p}{(\#x : \mathsf{LF}_{\mathsf{term}}) \in \Xi_o, \Xi_i}
\end{equation}

\begin{equation}
\infer{\Xi_o; \Xi_i; \Xi_p \vdash \ucorner{\$x} \rightsquigarrow_{M_p} \$x \dashv \Xi_o; \Xi_i; \Xi_p, \$x : \mathsf{Subst}}{\$x \notin \operatorname{domain}(\Xi_i, \Xi_p)}
\end{equation}

\begin{equation}
\infer{\Xi_o; \Xi_i; \Xi_p \vdash \ucorner{\$x} \rightsquigarrow_{M_p} \$x \dashv \Xi_o; \Xi_i; \Xi_p}{(\$x : \mathsf{Subst}) \in \Xi_o, \Xi_i}
\end{equation}

\begin{equation}
\infer{\Xi_o; \Xi_i; \Xi_p \vdash \ucorner{c} \rightsquigarrow_{M_p} c \dashv \Xi_o; \Xi_i; \Xi_p}{(c : \mathsf{LF}_{\mathsf{term}}) \in \Xi_o, \Xi_i}
\end{equation}

\begin{equation}
\infer{\Xi_o; \Xi_i; \Xi_p^{\{0\}} \vdash \ucorner{\angled{M_1; M_2; \dots; M_n}} \rightsquigarrow_{M_p} \angled{M_1; M_2; \dots; M_n} \dashv \Xi_o; \Xi_i; \Xi_p^{\{n\}}}{(\Xi_o; \Xi_i; \Xi_p^{\{t - 1\}} \vdash \ucorner{M_t} \rightsquigarrow_{M_p} M_t \dashv \Xi_o; \Xi_i; \Xi_p^{\{t\}})_{t \in \{1, 2, \dots, n\}}}
\end{equation}

\begin{equation}
\infer{\Xi_o; \Xi_i; \Xi_p \vdash \ucorner{\lambda x {:} A. M_p} \rightsquigarrow_{M_p} \lambda x {:} A. M_p \dashv \Xi_o; \Xi_i; \Xi_p'}{\Xi_o, \Xi_i \vdash \ucorner{A} \rightsquigarrow_A A \dashv \Xi_o, \Xi_i & \Xi_o; \Xi_i, x : \mathsf{LF}_{\mathsf{term}}; \Xi_p \vdash \ucorner{M_p} \rightsquigarrow_{M_p} M_p \dashv \Xi_o; \Xi_i; \Xi_p'}
\end{equation}

\begin{equation}
\infer{\Xi_o; \Xi_i; \Xi_p \vdash \ucorner{M_p \; M_{p, 1} \; M_{p, 2} \; \dots \; M_{p, n}} \rightsquigarrow_{M_p} M_p \; M_{p, 1} \; M_{p, 2} \; \dots \; M_{p, n} \dashv \Xi_o; \Xi_i; \Xi_p^{\{n\}}}{\deduce{(\Xi_o; \Xi_i; \Xi_p^{\{t - 1\}} \vdash \ucorner{M_{p, t}} \rightsquigarrow_{M_p} M_{p, t} \dashv \Xi_o; \Xi_i; \Xi_p^{\{t\}})_{t \in \{1, 2, \dots, n\}}}{\Xi_o; \Xi_i; \Xi_p \vdash \ucorner{M_p} \rightsquigarrow_{M_p} M_pÂ \dashv \Xi_o; \Xi_i; \Xi_p^{\{0\}}}}
\end{equation}

\begin{equation}
\infer{\Xi_o; \Xi_i; \Xi_p \vdash \ucorner{M_p : A} \rightsquigarrow_{M_p} M_p : A \dashv \Xi_o; \Xi_i; \Xi_p'}{\Xi_o, \Xi_i \vdash \ucorner{A} \rightsquigarrow_A A \dashv \Xi_o, \Xi_i & \Xi_o; \Xi_i; \Xi_p \vdash \ucorner{M_p} \rightsquigarrow_{M_p} M_p \dashv \Xi_o; \Xi_i; \Xi_p'}
\end{equation}

% TODO: The rest...
